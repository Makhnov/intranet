function cgsPage(){const e=new URLSearchParams(window.location.search),t=e.get("category"),c=e.getAll("tag"),n=e.get("query");if(t||c.length>0||n){const i=document.querySelectorAll('input[name="category"]'),l=document.querySelectorAll(".tag-button"),d=document.getElementById("faqFilterForm"),a=document.getElementById("activeCategory"),r=document.getElementById("activeTags"),u=document.getElementById("activeQuery");if(t){const g=document.createElement("div"),h=document.querySelector("#cgs-close svg").cloneNode(!0),m=document.createElement("span");h.id="svg_close_categorie",h.classList.add("cgs-small-icon"),h.onclick=function(){i.forEach((e=>{e.checked=!1})),s()},m.textContent=`Catégorie : ${t}`,g.appendChild(m),g.appendChild(h),a.appendChild(g)}else{const v=document.createElement("div"),p=document.createElement("span");p.textContent="Catégorie : Toutes",v.appendChild(p),a.appendChild(v)}if(n){const f=document.createElement("div"),y=document.querySelector("#cgs-close svg").cloneNode(!0),E=document.createElement("span");y.id="svg_close_query",y.classList.add("cgs-small-icon"),y.onclick=function(){document.querySelector('input[name="query"]').value="",s()},E.textContent=`Recherche : ${n}`,f.appendChild(E),f.appendChild(y),u.appendChild(f)}function o(e){if(![...r.children].some((t=>t.textContent.startsWith(e)))){const t=document.createElement("input");t.type="hidden",t.name="tag",t.value=e,d.appendChild(t);const c=document.createElement("div");c.className="active-tag-div";const n=document.createElement("span");n.textContent=e;const o=document.querySelector("#cgs-close svg").cloneNode(!0);o.id="svg_close_"+e,o.classList.add("cgs-small-icon"),o.onclick=function(){d.removeChild(t),r.removeChild(c),s()},c.appendChild(n),c.appendChild(o),r.appendChild(c)}}function s(){d.submit()}c.length>0&&c.forEach((e=>o(e))),l.forEach((e=>{e.addEventListener("click",(function(){o(this.getAttribute("data-tag")),s()}))})),i.forEach((e=>{e.addEventListener("change",(function(){s()}))}))}}function cgsItem(){const e=document.querySelectorAll("div.cgs-choice-container:not(.reduced)"),t=document.querySelectorAll("div.cgs-choice-container.reduced");e.forEach((e=>function(e){const t=e.querySelector("ul.choice-list"),c=e.querySelector("div.cgs-choice-content"),n=t.querySelectorAll("ul.choice-list li"),o=c.querySelectorAll("div.cgs-choice-content > div");n.forEach((e=>{e.addEventListener("click",(function(){if(!this.classList.contains("cgs-selected")){n.forEach((e=>e.classList.remove("cgs-selected"))),this.classList.add("cgs-selected");const e=this.getAttribute("data-target");o.forEach((t=>{t.id===e?t.classList.remove("cgs-hidden"):t.classList.add("cgs-hidden")}))}}))}));new ResizeObserver((e=>{for(let t of e){const{width:e}=t.contentRect,n=getComputedStyle(c).getPropertyValue("--padding-choice");c.style.width=`calc(${e-2}px - ${n} * 2)`}})).observe(t)}(e))),t.forEach((e=>function(e){console.log("reduced",e);const t=e.querySelector("ul.choice-list"),c=e.querySelector("div.cgs-choice-content");console.log("Reduced",e);const n=t.querySelectorAll("ul.choice-list li");console.log(n);const o=c.querySelectorAll("div.cgs-choice-content > div");console.log(o),n.forEach((e=>{e.addEventListener("click",(function(){if(!this.classList.contains("cgs-selected")){n.forEach((e=>e.classList.remove("cgs-selected"))),this.classList.add("cgs-selected");const e=this.getAttribute("data-target");o.forEach((t=>{t.id===e?t.classList.remove("cgs-hidden"):t.classList.add("cgs-hidden")}))}}))}))}(e)))}document.addEventListener("DOMContentLoaded",(function(){console.log("Fichier agents.js chargé");const e=document.body.classList;e.contains("list")&&(console.log("Liste chargée"),cgsPage()),e.contains("item")&&(console.log("Item chargé"),cgsItem())}));