function cgsPage(){const e=new URLSearchParams(window.location.search),t=e.get("category"),c=e.getAll("tag"),n=e.get("query");if(t||c.length>0||n){const d=document.querySelectorAll('input[name="category"]'),i=document.querySelectorAll(".tag-button"),s=document.getElementById("faqFilterForm"),a=document.getElementById("activeCategory"),r=document.getElementById("activeTags"),u=document.getElementById("activeQuery");if(t){const g=document.createElement("div"),m=document.querySelector("#cgs-close svg").cloneNode(!0),h=document.createElement("span");m.id="svg_close_categorie",m.classList.add("cgs-small-icon"),m.onclick=function(){d.forEach((e=>{e.checked=!1})),l()},h.textContent=`Catégorie : ${t}`,g.appendChild(h),g.appendChild(m),a.appendChild(g)}else{const p=document.createElement("div"),v=document.createElement("span");v.textContent="Catégorie : Toutes",p.appendChild(v),a.appendChild(p)}if(n){const f=document.createElement("div"),y=document.querySelector("#cgs-close svg").cloneNode(!0),C=document.createElement("span");y.id="svg_close_query",y.classList.add("cgs-small-icon"),y.onclick=function(){document.querySelector('input[name="query"]').value="",l()},C.textContent=`Recherche : ${n}`,f.appendChild(C),f.appendChild(y),u.appendChild(f)}function o(e){if(![...r.children].some((t=>t.textContent.startsWith(e)))){const t=document.createElement("input");t.type="hidden",t.name="tag",t.value=e,s.appendChild(t);const c=document.createElement("div");c.className="active-tag-div";const n=document.createElement("span");n.textContent=e;const o=document.querySelector("#cgs-close svg").cloneNode(!0);o.id="svg_close_"+e,o.classList.add("cgs-small-icon"),o.onclick=function(){s.removeChild(t),r.removeChild(c),l()},c.appendChild(n),c.appendChild(o),r.appendChild(c)}}function l(){s.submit()}c.length>0&&c.forEach((e=>o(e))),i.forEach((e=>{e.addEventListener("click",(function(){o(this.getAttribute("data-tag")),l()}))})),d.forEach((e=>{e.addEventListener("change",(function(){l()}))}))}}function cgsItem(){const e=document.querySelectorAll("div.cgs-choice-container:not(.reduced)"),t=document.querySelectorAll("div.cgs-choice-container.reduced");e.forEach((e=>function(e){const t=e.querySelector("ul.choice-list"),c=e.querySelector("div.cgs-choice-content");new ResizeObserver((e=>{for(let t of e){const{width:e}=t.contentRect;console.log(`La nouvelle largeur des options est : ${e}`),c.style.maxWidth=`${e}px`}})).observe(t)}(e))),t.forEach((e=>function(e){console.log("reduced",e);const t=e.querySelector("ul.choice-list");console.log(t)}(e)))}document.addEventListener("DOMContentLoaded",(function(){console.log("Fichier agents.js chargé");const e=document.body.classList;e.contains("page")&&(console.log("Liste chargée"),cgsPage()),e.contains("item")&&(console.log("Item chargé"),cgsItem())}));