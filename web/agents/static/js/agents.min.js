document.addEventListener("DOMContentLoaded",(function(){console.log("Fichier agents.js chargé");const e=new URLSearchParams(window.location.search),t=e.get("category"),n=e.getAll("tag"),c=e.get("query");if(t||n.length>0||c){const l=document.querySelectorAll('input[name="category"]'),a=document.querySelectorAll(".tag-button"),i=document.getElementById("faqFilterForm"),s=document.getElementById("activeCategory"),r=document.getElementById("activeTags"),u=document.getElementById("activeQuery");if(console.log("selectedTags : ",n),console.log("selectedCategory : ",t),console.log("selectedQuery : ",c),t){const m=document.createElement("div"),g=document.querySelector("#cgs-close svg").cloneNode(!0),h=document.createElement("span");g.id="svg_close_categorie",g.classList.add("cgs-small-icon"),g.onclick=function(){l.forEach((e=>{e.checked=!1})),d()},h.textContent=`Catégorie : ${t}`,m.appendChild(h),m.appendChild(g),s.appendChild(m)}else{const p=document.createElement("div"),C=document.createElement("span");C.textContent="Catégorie : Toutes",p.appendChild(C),s.appendChild(p)}if(c){const v=document.createElement("div"),y=document.querySelector("#cgs-close svg").cloneNode(!0),E=document.createElement("span");y.id="svg_close_query",y.classList.add("cgs-small-icon"),y.onclick=function(){document.querySelector('input[name="query"]').value="",d()},E.textContent=`Recherche : ${c}`,v.appendChild(E),v.appendChild(y),u.appendChild(v)}function o(e){if(![...r.children].some((t=>t.textContent.startsWith(e)))){const t=document.createElement("input");t.type="hidden",t.name="tag",t.value=e,i.appendChild(t);const n=document.createElement("div");n.className="active-tag-div";const c=document.createElement("span");c.textContent=e;const o=document.querySelector("#cgs-close svg").cloneNode(!0);o.id="svg_close_"+e,o.classList.add("cgs-small-icon"),o.onclick=function(){i.removeChild(t),r.removeChild(n),d()},n.appendChild(c),n.appendChild(o),r.appendChild(n)}}function d(){i.submit()}n.length>0&&n.forEach((e=>o(e))),a.forEach((e=>{e.addEventListener("click",(function(){o(this.getAttribute("data-tag")),d()}))})),l.forEach((e=>{e.addEventListener("change",(function(){d()}))}))}}));