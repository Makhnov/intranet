document.addEventListener("DOMContentLoaded",function(){console.log("Fichier agents.js chargé");var e=new URLSearchParams(window.location.search),t=e.get("category"),n=e.getAll("tag"),e=e.get("query");if(t||0<n.length||e){const u=document.querySelectorAll('input[name="category"]');var c=document.querySelectorAll(".tag-button");const m=document.getElementById("faqFilterForm");var o=document.getElementById("activeCategory");const g=document.getElementById("activeTags");var a,d,l,i=document.getElementById("activeQuery");function s(t){if(![...g.children].some(e=>e.textContent.startsWith(t))){const c=document.createElement("input"),o=(c.type="hidden",c.name="tag",c.value=t,m.appendChild(c),document.createElement("div"));o.className="active-tag-div";var e=document.createElement("span"),n=(e.textContent=t,document.querySelector("#cgs-close svg").cloneNode(!0));n.id="svg_close_"+t,n.classList.add("cgs-small-icon"),n.onclick=function(){m.removeChild(c),g.removeChild(o),r()},o.appendChild(e),o.appendChild(n),g.appendChild(o)}}function r(){m.submit()}console.log("selectedTags : ",n),console.log("selectedCategory : ",t),console.log("selectedQuery : ",e),t?(d=document.createElement("div"),a=document.querySelector("#cgs-close svg").cloneNode(!0),l=document.createElement("span"),a.id="svg_close_categorie",a.classList.add("cgs-small-icon"),a.onclick=function(){u.forEach(e=>{e.checked=!1}),r()},l.textContent="Catégorie : "+t,d.appendChild(l),d.appendChild(a),o.appendChild(d)):(t=document.createElement("div"),(l=document.createElement("span")).textContent="Catégorie : Toutes",t.appendChild(l),o.appendChild(t)),e&&(a=document.createElement("div"),d=document.querySelector("#cgs-close svg").cloneNode(!0),l=document.createElement("span"),d.id="svg_close_query",d.classList.add("cgs-small-icon"),d.onclick=function(){document.querySelector('input[name="query"]').value="",r()},l.textContent="Recherche : "+e,a.appendChild(l),a.appendChild(d),i.appendChild(a)),0<n.length&&n.forEach(e=>s(e)),c.forEach(e=>{e.addEventListener("click",function(){s(this.getAttribute("data-tag")),r()})}),u.forEach(e=>{e.addEventListener("change",function(){r()})})}});