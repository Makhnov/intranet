(function(){var o,e,t;o=null!=(t=this.joyJQ)?t:this.$,e=function(){function e(){}return e.prototype.enable=function(){var e;this._enablePopup(),o(window).resize((e=this,function(){return e._handleResize()})),this._handleResize()},e.prototype._enablePopup=function(){return 0===o("#joyous-overlay").length&&o('<div id="joyous-overlay" class="joy-overlay"></div>\n<div class="joy-popup joy-popup__outer">\n  <div id="joyous-more-events" class="calendar joy-popup__content">\n    <a class="joy-popup__close" href="#">Ã—</a>\n    <div class="joy-cal__day-title"></div>\n    <div class="joy-days-events"></div>\n  </div>\n</div>').appendTo("body"),o(".joy-overlay, .joy-popup__outer, .joy-popup__close").click((function(){return o(".joy-overlay, .joy-popup__outer").hide(),!1})),o(".joy-popup__content").click((function(o){return o.stopPropagation()}))},e.prototype._handleResize=function(){o(".joy-cal--monthly").length>0&&this._adjustDays(),this._linkReadMore()},e.prototype._adjustDays=function(){var e;e=.71*(o(".joy-cal--monthly .joy-cal__day").first().outerWidth()-o(".joy-cal--monthly .joy-cal__date").first().outerHeight()),o(".joy-cal--monthly .joy-days-events").outerHeight(e)},e.prototype._linkReadMore=function(){var e;o(".joy-days-events").each((e=this,function(t,a){var n;(n=o(a).closest(".joy-cal__day")).find(".joy-cal__read-more").remove(),(a.offsetHeight<a.scrollHeight||a.offsetWidth<a.scrollWidth)&&e._addReadMoreLink(n)}))},e.prototype._addReadMoreLink=function(e){var t;(t=o("<a>").attr("href","javascript:void 0").attr("title","Show all of this day's events").addClass("joy-cal__read-more").text("+")).click((function(t){var a,n,i;return n=e.find(".joy-cal__day-title").clone(),o("#joyous-more-events .joy-cal__day-title").replaceWith(n),a=e.find(".joy-days-events").clone().height("auto"),o("#joyous-more-events .joy-days-events").replaceWith(a),i=Math.max(t.pageY-100,o(window).scrollTop()),o(".joy-popup__outer").css("top",i),o("#joyous-overlay, .joy-popup__outer").show(),!1})),e.append(t)},e}(),o((function(){(new e).enable()}))}).call(this);