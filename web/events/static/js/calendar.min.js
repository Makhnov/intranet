!function(){var n,o,e;function t(){}n=null!=(e=this.joyJQ)?e:this.$,t.prototype.enable=function(){var o;this._enablePopup(),n(window).resize((o=this,function(){return o._handleResize()})),this._handleResize()},t.prototype._enablePopup=function(){return 0===n("#joyous-overlay").length&&n('<div id="joyous-overlay" class="joy-overlay"></div>\n<div class="joy-popup joy-popup__outer">\n  <div id="joyous-more-events" class="calendar joy-popup__content">\n    <a class="joy-popup__close" href="#">Ã—</a>\n    <div class="joy-cal__day-title"></div>\n    <div class="joy-days-events"></div>\n  </div>\n</div>').appendTo("body"),n(".joy-overlay, .joy-popup__outer, .joy-popup__close").click(function(){return n(".joy-overlay, .joy-popup__outer").hide(),!1}),n(".joy-popup__content").click(function(o){return o.stopPropagation()})},t.prototype._handleResize=function(){0<n(".joy-cal--monthly").length&&this._adjustDays(),this._linkReadMore()},t.prototype._adjustDays=function(){var o=.71*(n(".joy-cal--monthly .joy-cal__day").first().outerWidth()-n(".joy-cal--monthly .joy-cal__date").first().outerHeight());n(".joy-cal--monthly .joy-days-events").outerHeight(o)},t.prototype._linkReadMore=function(){var a;n(".joy-days-events").each((a=this,function(o,e){var t=n(e).closest(".joy-cal__day");t.find(".joy-cal__read-more").remove(),(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&a._addReadMoreLink(t)}))},t.prototype._addReadMoreLink=function(t){var o=n("<a>").attr("href","javascript:void 0").attr("title","Show all of this day's events").addClass("joy-cal__read-more").text("+");o.click(function(o){var e=t.find(".joy-cal__day-title").clone();return n("#joyous-more-events .joy-cal__day-title").replaceWith(e),e=t.find(".joy-days-events").clone().height("auto"),n("#joyous-more-events .joy-days-events").replaceWith(e),e=Math.max(o.pageY-100,n(window).scrollTop()),n(".joy-popup__outer").css("top",e),n("#joyous-overlay, .joy-popup__outer").show(),!1}),t.append(o)},o=t,n(function(){(new o).enable()})}.call(this);