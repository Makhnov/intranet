document.addEventListener("DOMContentLoaded",function(){console.log("Fichier intranet.js chargÃ©");var e=getComputedStyle(document.body),t=document.querySelectorAll(".logo-pochoir.right");const s=["#008770","#00b3be","#92d400","#928b81"],c=e=>{document.documentElement.style.setProperty("--cgs-theme-primary",e),localStorage.setItem("selectedColor",e)};var o=localStorage.getItem("selectedColor");o&&c(o),t.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),c(s[t])})});const n=document.querySelector("ul.profile > .avatar");function l(e=!1,t=!1,s){e?t?(console.log("cgs-width-none"),s.classList.toggle("cgs-width-none")):(console.log("cgs-height-none"),s.classList.toggle("cgs-height-none")):(console.log("cgs-hidden"),s.classList.toggle("cgs-hidden"))}n&&n.addEventListener("click",function(e){n.closest("ul").classList.toggle("cgs-open")}),document.querySelectorAll(".cgs-expandable").forEach(e=>{e.addEventListener("click",function(){var e=document.createElement("div"),t=(e.classList.add("cgs-fullscreen-container"),this.cloneNode());e.appendChild(t),document.body.appendChild(e),e.addEventListener("click",function(){this.remove()})})});for(const u of document.querySelectorAll(".cgs-swap")){const h=u.querySelector(".cgs-swapable");var i=h.querySelectorAll("svg, img");const L=u.querySelector("p.cgs-heading"),f=i[0],v=i[1],m=h.getAttribute("data-smooth"),p=h.getAttribute("data-width");("Masquer"==h.title?f:v).classList.add("cgs-hidden");let t=u.nextElementSibling;for(;t;){if(t.classList.contains("cgs-swap-visible")){t.classList.remove("cgs-swap-visible");break}if(t.classList.contains("cgs-swap-hidden")){t.classList.remove("cgs-swap-hidden"),l(m,p,t);break}t=t.nextElementSibling}h.addEventListener("click",function(){var e;f.classList.toggle("cgs-hidden"),v.classList.toggle("cgs-hidden"),l(m,p,t),"Afficher"===h.getAttribute("title")?(h.setAttribute("title","Masquer"),L&&(e=L.textContent.replace("Afficher","Masquer"),L.textContent=e)):(h.setAttribute("title","Afficher"),L&&(e=L.textContent.replace("Masquer","Afficher"),L.textContent=e))})}const d=document.querySelector("footer nav.footer ul.nav-box"),r=document.querySelector("footer nav.footer div.cgs-box.left"),a=document.querySelector("footer nav.footer div.cgs-box.right"),g=32*(1.5*parseFloat(e.getPropertyValue("--nav-icon-margin"))+parseFloat(e.getPropertyValue("--nav-icon-size")));d&&(o=()=>{0===d.scrollLeft?r.classList.add("cgs-hidden"):r.classList.remove("cgs-hidden"),d.scrollLeft+d.offsetWidth>=d.scrollWidth?a.classList.add("cgs-hidden"):a.classList.remove("cgs-hidden")},r.addEventListener("click",()=>{d.scrollLeft-=g}),a.addEventListener("click",()=>{d.scrollLeft+=g}),d.addEventListener("scroll",o),null!==(t=localStorage.getItem("footerScrollPosition"))&&(d.scrollLeft=parseInt(t)),o(),window.addEventListener("resize",o),window.addEventListener("beforeunload",()=>{localStorage.setItem("footerScrollPosition",d.scrollLeft)}));e=document.querySelectorAll("cgs-search > svg, cgs-search > img");if(3===e.length){const b=e[0],E=e[1],S=e[2],y=document.querySelector("cgs-search > form > input");b.addEventListener("click",()=>{b.classList.add("cgs-hidden"),E.classList.remove("cgs-hidden"),y.classList.add("cgs-open")}),E.addEventListener("click",()=>{E.classList.add("cgs-hidden"),S.classList.remove("cgs-hidden"),y.classList.remove("cgs-open")}),S.addEventListener("click",()=>{S.classList.add("cgs-hidden"),E.classList.remove("cgs-hidden"),y.classList.add("cgs-open")}),y.addEventListener("focus",()=>{y.classList.add("cgs-open"),b.classList.add("cgs-hidden"),S.classList.add("cgs-hidden"),E.classList.remove("cgs-hidden")})}});