document.addEventListener("DOMContentLoaded",(function(){console.log("Fichier intranet.js chargÃ©");const e=getComputedStyle(document.body),t=document.querySelectorAll(".logo-pochoir.right"),s=["#008770","#00b3be","#92d400","#928b81"],c=e=>{document.documentElement.style.setProperty("--cgs-theme-primary",e),localStorage.setItem("selectedColor",e)},o=localStorage.getItem("selectedColor");o&&c(o),t.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),c(s[t])}))}));const n=document.querySelector("ul.profile > .avatar");n&&n.addEventListener("click",(function(e){console.log("click"),n.closest("ul").classList.toggle("cgs-open")})),document.querySelectorAll(".cgs-expandable").forEach((e=>{e.addEventListener("click",(function(){const e=document.createElement("div");e.classList.add("cgs-fullscreen-container");const t=this.cloneNode();e.appendChild(t),document.body.appendChild(e),e.addEventListener("click",(function(){this.remove()}))}))}));const i=document.querySelectorAll(".cgs-swap");function l(e=!1,t=!1,s){e?t?s.classList.toggle("cgs-width-none"):s.classList.toggle("cgs-height-none"):s.classList.toggle("cgs-hidden")}for(const e of i){const t=e.querySelector(".cgs-swapable"),s=t.querySelectorAll("svg, img"),c=e.querySelector("p.cgs-heading"),o=s[0],n=s[1],i=t.getAttribute("data-smooth"),d=t.getAttribute("data-width");"Masquer"==t.title?o.classList.add("cgs-hidden"):n.classList.add("cgs-hidden");let r=e.nextElementSibling;for(;r;){if(r.classList.contains("cgs-swap-visible")){r.classList.remove("cgs-swap-visible");break}if(r.classList.contains("cgs-swap-hidden")){r.classList.remove("cgs-swap-hidden"),l(i,d,r);break}r=r.nextElementSibling}t.addEventListener("click",(function(){if(o.classList.toggle("cgs-hidden"),n.classList.toggle("cgs-hidden"),l(i,d,r),"Afficher"===t.getAttribute("title")){if(t.setAttribute("title","Masquer"),c){const e=c.textContent.replace("Afficher","Masquer");c.textContent=e}}else if(t.setAttribute("title","Afficher"),c){const e=c.textContent.replace("Masquer","Afficher");c.textContent=e}}))}const d=document.querySelector("footer nav.footer ul.nav-box"),r=document.querySelector("footer nav.footer div.cgs-box.left"),a=document.querySelector("footer nav.footer div.cgs-box.right"),g=32*(1.5*parseFloat(e.getPropertyValue("--nav-icon-margin"))+parseFloat(e.getPropertyValue("--nav-icon-size")));if(d){const e=()=>{0===d.scrollLeft?r.classList.add("cgs-hidden"):r.classList.remove("cgs-hidden"),d.scrollLeft+d.offsetWidth>=d.scrollWidth?a.classList.add("cgs-hidden"):a.classList.remove("cgs-hidden")};r.addEventListener("click",(()=>{d.scrollLeft-=g})),a.addEventListener("click",(()=>{d.scrollLeft+=g})),d.addEventListener("scroll",e);const t=localStorage.getItem("footerScrollPosition");null!==t&&(d.scrollLeft=parseInt(t)),e(),window.addEventListener("resize",e),window.addEventListener("beforeunload",(()=>{localStorage.setItem("footerScrollPosition",d.scrollLeft)}))}const u=document.querySelectorAll("cgs-search > svg, cgs-search > img");if(3===u.length){const e=u[0],t=u[1],s=u[2],c=document.querySelector("cgs-search > form > input");e.addEventListener("click",(()=>{e.classList.add("cgs-hidden"),t.classList.remove("cgs-hidden"),c.classList.add("cgs-open")})),t.addEventListener("click",(()=>{t.classList.add("cgs-hidden"),s.classList.remove("cgs-hidden"),c.classList.remove("cgs-open")})),s.addEventListener("click",(()=>{s.classList.add("cgs-hidden"),t.classList.remove("cgs-hidden"),c.classList.add("cgs-open")})),c.addEventListener("focus",(()=>{c.classList.add("cgs-open"),e.classList.add("cgs-hidden"),s.classList.add("cgs-hidden"),t.classList.remove("cgs-hidden")}))}}));