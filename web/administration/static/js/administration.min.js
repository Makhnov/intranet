function cgsMenu(){console.log("Menu chargé")}function cgsList(){console.log("Liste chargée");function e(){const e=document.querySelectorAll("#emailsContainer .email");console.log(e);const o=Array.from(e).map((e=>e.textContent.trim())).join(", ");navigator.clipboard.writeText(o).then((function(){console.log("Copie réussie")}),(function(e){console.error("Erreur lors de la copie",e)}))}document.getElementById("action-buttons")&&function(){const o=document.getElementById("cgs-copy");document.getElementById("cgs-download"),document.getElementById("cgs-print");o&&o.addEventListener("click",e)}()}function cgsDoc(){console.log("Document chargé")}function cgsViewer(e){const o=e.getAttribute("data-url");if(!o)return void console.error("URL du PDF non définie");console.log("URL du PDF : "+o);const n=document.querySelector("div.cgs-progress"),t=n.querySelector("p.progress-value");let c=0;function s(e){document.documentElement.style.setProperty("--progress",`${e}%`),t.textContent=`${Math.floor(e)}%`}s(c),pdfjsLib.getDocument(o).promise.then((o=>{console.log("PDF chargé");const t=100/o.numPages;let r=Promise.resolve();for(let l=1;l<=o.numPages;l++){let i=document.createElement("canvas");i.id="page-"+l,e.appendChild(i),r=r.then((()=>o.getPage(l).then((e=>{console.log("Page "+l+" chargée");const r=e.getViewport({scale:1});i.height=r.height,i.width=r.width;const g={canvasContext:i.getContext("2d"),viewport:r};return e.render(g).promise.then((()=>{console.log("Page "+l+" rendue"),c+=t,console.log("Progression : "+c),s(c),l===o.numPages&&(console.log("Progression terminée"),n.style.display="none")}))}))))}}),(e=>{console.error(e)}))}document.addEventListener("DOMContentLoaded",(function(){console.log("Page d'administration chargée");const e=document.body?document.body.getAttribute("class"):"";if(console.log(e),e.includes("menu")&&cgsMenu(),e.includes("doc")){cgsDoc();const e=document.getElementById("viewer");e&&cgsViewer(e)}}));