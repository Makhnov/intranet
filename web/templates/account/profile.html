{% extends "base.html" %}t %} 
{% load i18n static wagtailadmin_tags %}

{% block body_class %}profile list{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/profile.min.css' %}">
{% endblock %}

{% block title %}
  {% trans "Profile" %}
{% endblock %}

{% block content %}
	<main class="main-content">

		<h1>{% trans "Account profile" %}</h1>

		{% if messages %}
		<h3>
			{% comment %} Messages {% endcomment %}
			<ul class="messages">
				{% for message in messages %}
				<li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message | safe }}</li>
				{% endfor %}
			</ul>
		</h3>
		{% endif %}

		<div class="cgs-container profile">
			
			<div class="cgs-block">
				{% comment %} Sign Out Button  {% endcomment %}
				<a href="{% url 'account_logout' %}?next={% url 'account_profile' %}">
					<button
						class="button button-longrunning"
						data-controller="w-progress"
						data-action="w-progress#activate"
						data-w-progress-active-value="{% trans 'Deconnexion…' %}"
					>
						{% icon name="spinner" %}
						<em data-w-progress-target="label">{% trans 'Sign Out' %}</em>
					</button>
				</a>
			</div>

			<div class="cgs-block">
				{% comment %} Pasword change {% endcomment %}
				<a href="{% url 'account_password_change' %}?next={% url 'account_profile' %}">					
					<button
						class="button button-longrunning"
						data-controller="w-progress"
						data-action="w-progress#activate"
						data-w-progress-active-value="{% trans 'Changing…' %}"
					>
						{% icon name="spinner" %}
						<em data-w-progress-target="label">{% trans "Change Password?" %}</em>
					</button>
				</a>
			</div>

			<div class="cgs-block">
				{% comment %} Pasword reset {% endcomment %}
				<a href="{% url 'account_reset_password' %}">
					<button
						class="button button-longrunning"
						data-controller="w-progress"
						data-action="w-progress#activate"
						data-w-progress-active-value="{% trans 'Resetting…' %}"
					>
						{% icon name="spinner" %}
						<em data-w-progress-target="label">{% trans "Forgot Password?" %}</em>
					</button>					
				</a>
			</div>
			
			<div class="cgs-block">
					{% comment %} Admin Button  {% endcomment %}
					<a href="{% url 'wagtailadmin_home' %}" class="btn btn-outline-primary btn-sm">
						<button
							class="button button-longrunning"
							data-controller="w-progress"
							data-action="w-progress#activate"
							data-w-progress-active-value="{% trans 'Administration…' %}"
						>
							{% icon name="spinner" %}
							<em data-w-progress-target="label">{% trans "Admin panel" %}</em>						
						</button>						
					</a>
			</div>

			<div class="cgs-block">
				{% comment %} First Name  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "First name" %}</small>
				<p class="mb-0">{{ user.first_name|default:'' }}</p>
				</div>
			
				{% comment %} Last Name  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Last name" %}</small>
				<p class="mb-0">{{ user.last_name|default:'' }}</p>
				</div>

				{% comment %} Display Name  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Display name" %}</small>
				<p class="mb-0">{{ request.user.display_name|default:'' }}</p>
				</div>
			</div>

			<div class="cgs-block">      
				{% comment %} Address Line 1  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Address line 1" %}</small>
				<p class="mb-0">{{ request.user.address1|default:'' }}</p>
				</div>
			
				{% comment %} Address Line 2  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Address line 2" %}</small>
				<p class="mb-0">{{ request.user.address2|default:'' }}</p>
				</div>
			
				{% comment %} Postal Code  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Postal Code" %}</small>
				<p class="mb-0">{{ request.user.zip_code|default:'' }}</p>
				</div>
			
				{% comment %} City  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "City" %}</small>
				<p class="mb-0">{{ request.user.city|default:'' }}</p>
				</div>
			
				{% comment %} Country  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Country" %}</small>
				<p class="mb-0">{{ request.user.country|default:'' }}</p>
				</div>
			</div>

			<div class="cgs-block">
				{% comment %} Mobile Phone  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Mobile phone" %}</small>
				<p class="mb-0">{{ request.user.mobile_phone|default:'' }}</p>
				</div>
			
				{% comment %} Additional Information  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Additional information" %}</small>
				<p class="mb-0">{{ request.user.municipality|default:'' }}</p>
				</div>

				{% comment %} Date of Birth  {% endcomment %}
				<div class="col border py-2">
				<small class="text-muted">{% trans "Date of birth" %}</small>
				<p class="mb-0">{{ request.user.date_of_birth|date:"F d, Y"|default:'' }}</p>
				</div>
			</div>
		</div>
	</main>    
{% endblock %}