function listenObjectsChange(e){const t=document.getElementById("object_convocation"),s=document.getElementById("object_divers"),c=document.querySelector("section.left"),o=document.querySelector("section.right"),d=document.querySelector("label[for=object_divers]"),a=document.querySelector("label[for=object_convocation]"),n=document.querySelector("span[for=object_divers]"),i=document.querySelector("span[for=object_convocation]");function l(e){"divers"===e?(c.classList.remove("cgs-pathed"),d.style.display="flex",n.style.transform="scaleX(0)",o.classList.add("cgs-pathed"),a.style.display="none",i.style.transform="scaleX(1)"):"convocation"===e?(c.classList.add("cgs-pathed"),d.style.display="none",n.style.transform="scaleX(1)",o.classList.remove("cgs-pathed"),a.style.display="flex",i.style.transform="scaleX(0)"):(c.classList.add("cgs-pathed"),d.style.display="none",n.style.transform="scaleX(1)",o.classList.add("cgs-pathed"),a.style.display="none",i.style.transform="scaleX(1)")}e.addEventListener("change",(function(e){"radio"===e.target.type&&l(e.target.value)})),n.addEventListener("click",(function(){s.checked=!0,l("divers")})),i.addEventListener("click",(function(){t.checked=!0,l("convocation")})),t.checked?l("convocation"):s.checked?l("divers"):l("none")}function displayForm(){const e=document.querySelectorAll("div.cgs-form-group[data-type=select]"),t=document.querySelectorAll("input[type=radio][name=left_pages], input[type=radio][name=right_pages], input[type=radio][name=commissions]"),s=document.querySelector("div.cgs-form-group[data-type=radio][data-id=commissions]");!function(){e.forEach((e=>{e.classList.add("cgs-hidden")})),s.classList.add("cgs-hidden");let c=[];t.forEach((e=>{if(e.checked){const t=e.closest(".cgs-form-group");t.setAttribute("data-selected",e.value),c.push(t)}})),c.forEach((e=>{const t=e.getAttribute("data-selected");if("commissions"===t){s.classList.remove("cgs-hidden");const e=document.querySelector(`div.cgs-form-group[data-type=select][data-id='${s.getAttribute("data-selected")}']`);e&&e.classList.remove("cgs-hidden")}else{const e=document.querySelector(`div.cgs-form-group[data-type=select][data-id=${t}]`);e&&!e.getAttribute("data-id").includes("commission")&&e.classList.remove("cgs-hidden")}}))}(),t.forEach((e=>{e.addEventListener("change",(function(e){if("radio"===e.target.type){!function(e=null,t=null){if(e){let c=e.getAttribute("data-selected"),o="select",d="select";if("commissions"===t){o="radio";let e=s.getAttribute("data-selected"),t=document.querySelector(`div.cgs-form-group[data-type="select"][data-id="${e}"]`);t&&t.classList.remove("cgs-hidden")}if("commissions"===c){d="radio";let e=s.getAttribute("data-selected");s.setAttribute("data-selected","");let t=s.querySelector(`input[type=radio][name=commissions][value="${e}"]`);t&&(t.checked=!1);let c=document.querySelector(`div.cgs-form-group[data-type="select"][data-id="${e}"]`);if(c){c.classList.add("cgs-hidden");let e=c.querySelector("select");e&&(e.selectedIndex=0)}}const a=document.querySelector(`div.cgs-form-group[data-type="${o}"][data-id="${t}"]`),n=document.querySelector(`div.cgs-form-group[data-type="${d}"][data-id="${c}"]`);a&&a.classList.remove("cgs-hidden"),n&&n.classList.add("cgs-hidden"),e.setAttribute("data-selected",t)}else console.log("pas de section")}(e.target.closest(".cgs-form-group "),e.target.value)}}))}))}document.addEventListener("DOMContentLoaded",(function(){console.log("Fichier mailing.js chargÃ©");const e=document.getElementById("objects");e&&listenObjectsChange(e);document.querySelectorAll("form.cgs-mailing").length>0&&displayForm()}));