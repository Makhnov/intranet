function whereAmI(){const e=document.body?document.body.getAttribute("class"):"",t=document.title;console.log("TITRE:",t),console.log("Classes:",e),e.includes("homepage")&&(console.log("Page d'accueil du Dashboard d√©tect√©e"),accueil()),t.includes("Amicale page")&&(console.log("Page de l'amicale d√©tect√©e"),amicale()),document.querySelector("body.ready ul.listing.cgs-quick")&&(console.log("Page quickcreate d√©tect√©e"),quickcreate()),t.includes("Exploring: Agents (FAQ)")&&(console.log("Liste de la FAQ d√©tect√©e"),faqList()),document.querySelector("#listing-results.users")&&(console.log("Page d'affichage des utilisateurs d√©tect√©e"),usersList()),document.querySelector("form[action^='/admin/users/'][method='post']")&&(console.log("Cr√©ation/√©dition d'utilisateur d√©tect√©e"),userCommissionUpdate(),userElectedUpdate()),t.includes("√âv√©nement sur plusieurs jours")?(console.log("Cr√©ation/√©dition d'un multi-√©v√®nement d√©tect√©e"),joyousMultiEvent()):t.includes("√âv√©nement")&&(console.log("Cr√©ation/√©dition d'un √©v√®nement d√©tect√©e"),joyousSingleEvent()),t.includes("Convocation")&&(console.log("Page de convocation d√©tect√©e"),convocationDate()),t.includes("Compte-rendu")&&(console.log("Page de compte-rendu d√©tect√©e"),compteRenduUsers(),compteRenduImportBloc()),t.includes("Faq page")&&console.log("Page de FAQ d√©tect√©e")}function collapsible(e){e.closest(".cgs-collapsible").classList.toggle("cgs-collapsed")}function userFunctionUpdate(){console.log("Mise √† jour de l'input pour la liste des fonctions relative aux commissions");const e=document.querySelectorAll('input[name="commissions"]:checked'),t=[];e.forEach((e=>{const n=document.querySelector(`select[data-id="${e.value}"]`);n&&t.push({commission:e.value,function:n.value})})),document.getElementById("id_functions_commissions").value=JSON.stringify(t)}function createInfoBlock(e,t){if(!document.getElementById(e)){const n=document.createElement("div");n.classList.add("cgs-warning"),n.setAttribute("id",e);const o=document.createElement("p");return o.classList.add("warning-message"),o.innerHTML=t,n.appendChild(o),n}}function removeInfoBlock(e){const t=document.getElementById(e);t&&t.remove()}function accueil(){document.querySelectorAll(".w-summary__list svg.icon").forEach((function(e){let t=e.nextElementSibling.getAttribute("href");e.addEventListener("click",(function(){window.location.href=t}))}))}function amicale(){const e=document.querySelector("#id_use_map"),t=["map_details","details_de_la_carte","detalles_del_mapa"];let n,o;for(let e of t)if(o=`panel-child-contenu-${e}-content`,n=document.querySelector(`#${o}`),n)break;const c=document.querySelector(`.w-panel__toggle[aria-controls="${o}"]`);function s(){e.checked?(c.setAttribute("aria-expanded","true"),n.classList.remove("disabled"),n.querySelectorAll("input, select, textarea").forEach((e=>e.disabled=!1)),n.removeAttribute("hidden")):(c.setAttribute("aria-expanded","false"),n.classList.add("disabled"),n.querySelectorAll("input, select, textarea").forEach((e=>e.disabled=!0)),n.setAttribute("hidden",""))}s(),e.addEventListener("change",s)}function quickcreate(){const e=document.querySelector("body.ready ul.listing"),t=document.querySelectorAll("body.ready ul.listing li"),n=document.createElement("li");n.classList.add("list","cgs-closed"),n.setAttribute("data-name","Commissions et groupes de travail"),n.setAttribute("data-model","CommissionPage");const o=document.createElement("a");o.classList.add("icon","icon-plus-inverse","icon-larger"),o.setAttribute("ID","commissions-dropdown"),o.setAttribute("alt","Ouvrir le menu d√©roulant des commissions ou groupes de travail"),o.setAttribute("title","Afficher toutes les commissions et groupes de travail");const c=document.createElement("strong");c.textContent="Commissions et groupes de travail";const s=document.createElement("span");s.textContent="‚ñ∂Ô∏è";const i=document.createElement("ul");i.classList.add("com-listing","cgs-quick","cgs-hidden"),o.appendChild(c),o.appendChild(s),n.appendChild(o),n.appendChild(i),e.appendChild(n),o.addEventListener("click",(function(){i.classList.toggle("cgs-hidden"),n.classList.toggle("cgs-closed"),i.classList.contains("cgs-hidden")?(s.textContent="‚ñ∂Ô∏è",o.setAttribute("title","Afficher toutes les commissions et groupes de travail"),o.setAttribute("alt","Ouvrir le menu d√©roulant des commissions ou groupes de travail")):(s.textContent="üîΩ",o.setAttribute("title","Masquer toutes les commissions et groupes de travail"),o.setAttribute("alt","Fermer le menu d√©roulant des commissions ou groupes de travail"))})),t.forEach((e=>{if("CommissionPage"===e.getAttribute("data-model")){const t=e.cloneNode(!0);i.appendChild(t),e.remove()}}))}function faqList(){document.querySelectorAll("thead th a").forEach((e=>{e.title.includes("Titre")&&(e.textContent=`${e.textContent}: [Th√©matique] - [Cibles] - [Mots-clef]`)}))}function usersList(){const e=document.querySelector("header .left"),t=document.createElement("select");t.id="pagination-select";const n=new URLSearchParams(window.location.search).get("paginate_by")||"20";function o(e,t,n){let o="";const c=e.split("?"),s=c[0];let i=c[1],a="";if(i){const e=i.split("&");for(let n=0;n<e.length;n++)e[n].split("=")[0]!=t&&(o+=a+e[n],a="&")}return s+"?"+o+(a+""+t+"="+n)}[{value:"20",text:"20"},{value:"50",text:"50"},{value:"100",text:"100"},{value:"10000",text:"Tous"}].forEach((e=>{const o=document.createElement("option");o.value=e.value,o.textContent=e.text,e.value===n&&(o.selected=!0,o.setAttribute("selected","selected")),t.appendChild(o)})),e.appendChild(t),t.addEventListener("change",(function(){const e=this.value;let t;t=o(window.location.href,"paginate_by","all"===e?"":e),window.location.href=t}))}function userCommissionUpdate(){const e=document.getElementById("id_commissions"),t=document.getElementById("id_functions_commissions"),n=JSON.parse(t.value),o=Array.from(e.options).sort(((e,t)=>e.textContent.localeCompare(t.textContent))),c=document.createElement("div");c.setAttribute("id","id_commissions");const s=document.createElement("div");s.setAttribute("id","id_functions_commissions_list");const i=e.parentElement,a=i.parentElement,l=a.parentElement,d=t.parentElement,r=d.parentElement,u=r.parentElement,m=document.getElementById("commissions-content"),p=m.querySelectorAll(".w-field__errors[data-field-errors]");for(const e of p)e.children.length>0&&(console.log("ERREUR TROUVEE"),m.insertBefore(e,m.firstChild));o.forEach(((e,t)=>{const{function:o}=n.find((({commission:t})=>t===e.value))||{},i=document.createElement("div"),a=document.createElement("div"),l=document.createElement("label"),d=function(e,t,n){const o=document.createElement("select");o.classList.add("cgs-selector"),o.setAttribute("title",e),o.setAttribute("data-id",t);const c=document.createElement("option");c.value="",c.selected=!0,c.textContent="---------",o.appendChild(c);const s=document.createElement("option");s.value="3",s.textContent="Membre",o.appendChild(s);const i=document.createElement("option");i.value="1",i.textContent="Pr√©sident",o.appendChild(i);const a=document.createElement("option");a.value="2",a.textContent="Charg√© de commission",o.appendChild(a),void 0!==n&&(o.classList.add("cgs-checked"),o.value=n);return o}(e.textContent,e.value,o),r=document.createElement("input");l.setAttribute("for",`id_commissions_${t}`),r.setAttribute("id",`id_commissions_${t}`),r.setAttribute("type","checkbox"),r.setAttribute("name","commissions"),r.setAttribute("value",e.value),e.selected&&r.setAttribute("checked","checked"),r.addEventListener("change",(function(){const e=document.querySelector(`select[data-id="${this.value}"]`);this.checked?(e.classList.add("cgs-checked"),""===e.value&&(e.value="3")):(e.classList.remove("cgs-checked"),e.value="")})),l.appendChild(r),l.appendChild(document.createTextNode(e.textContent)),i.appendChild(l),a.appendChild(d),c.appendChild(i),c.addEventListener("change",userFunctionUpdate),s.appendChild(a),s.addEventListener("change",userFunctionUpdate)})),i.replaceChild(c,e),d.replaceChild(s,t),function(e){const t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","functions_commissions"),t.setAttribute("id","id_functions_commissions"),e.appendChild(t)}(s),a.className="w-field w-field--model_multiple_choice_field w-field--checkbox_select_multiple",r.className="w-field w-field--model_multiple_choice_field w-field--checkbox_select_multiple",l.removeChild(l.querySelector("label")),u.removeChild(u.querySelector("label")),userFunctionUpdate()}function userElectedUpdate(){const e=document.querySelector("#id_municipality"),t=document.querySelector("#id_function_municipality"),n=document.querySelector("#id_function_council"),o=document.querySelector("#commissions-section"),c=document.querySelector("#id_function_bureau"),s=document.querySelector("#id_function_conference"),i=document.querySelectorAll("#id_commissions input[type='checkbox']"),a=document.querySelectorAll("#id_functions_commissions_list select"),l=document.querySelectorAll("#id_functions_commissions_list option[value='2']");function d(){function d(e){l.forEach((t=>{t.disabled=!e,e||(t.selected=!1)}))}e.value?t.classList.remove("cgs-panel-disabled"):(t.classList.add("cgs-panel-disabled"),t.value=""),t.value?(n.classList.remove("cgs-panel-disabled"),o.classList.remove("cgs-panel-disabled")):(n.classList.add("cgs-panel-disabled"),o.classList.add("cgs-panel-disabled"),n.value="",c.value="",s.value="",i.forEach((e=>{e.checked=!1})),a.forEach((e=>{console.log(e),e.value="",e.classList.remove("cgs-checked")})),userFunctionUpdate()),"1"===n.value?(s.value="1",c.value="1",d(!1)):"2"===n.value?(s.value="2",c.value="2",d(!0)):(s.value="1"===t.value?"3":"",c.value="",d(!1))}document.querySelectorAll("#id_municipality, #id_function_municipality, #id_function_council, #id_commissions").forEach((e=>{e.addEventListener("change",d)})),t.classList.add("cgs-panel-disabled"),n.classList.add("cgs-panel-disabled"),c.classList.add("cgs-panel-disabled"),o.classList.add("cgs-panel-disabled"),s.classList.add("cgs-panel-disabled"),d()}function joyousSingleEvent(){const e=document.querySelector("#id_convocation"),t=e.value;function n(e){fetch("/api/v2/pages/"+e).then((e=>e.json())).then((e=>{const t=e.title.replace("Convocation ",""),n=t.charAt(0).toUpperCase()+t.slice(1),o=t.toLowerCase().replace(/ /g,"-");document.getElementById("id_title").value=n,document.getElementById("id_slug").value=o;const c=new Date(e.date);if(document.getElementById("id_date").value=function(e){return e.toISOString().split("T")[0]}(c),document.getElementById("id_time_from").value=function(e){return e.toTimeString().split(" ")[0].substring(0,5)}(c),document.getElementById("id_location").value="H√¥tel communautaire. 15, avenue du Comminges 31260 MANE",document.getElementById("id_website").value="https://cagiregaronnesalat.fr/"+o+"/",e.meta.parent.meta.logo){!function(e){const t=document.getElementById("id_image"),n=document.getElementById("id_image-chooser"),o=n.querySelector("img"),c=document.getElementById("id_image-title");t&&(t.value=e.id,c.innerText=e.title,o.alt=e.title,o.src=e.url,n.classList.remove("blank"))}(e.meta.parent.meta.logo)}})).catch((e=>console.error("Error:",e)))}t&&n(t),e.addEventListener("change",(function(){const e=this.value;e&&n(e)}))}function joyousMultiEvent(){}function convocationDate(){const e=document.querySelector("#id_date"),t=document.querySelector("#panel-child-contenu-body-section"),n=document.querySelector("#panel-child-contenu-pieces_jointes-section");function o(e){const o=document.querySelector("form#page-edit-form");if(o){const e=o.getAttribute("action").split("/")[3],t=parseInt(e);if("add"==e)c("create");else{if(!t)return;fetch("/api/v2/pages/"+e+"/").then((e=>e.json())).then((e=>{if(!!e.old&&e.old)throw new Error("Ancienne convocation d√©tect√©e");c("new")})).catch((e=>{"Ancienne convocation d√©tect√©e"===e.message?c("old"):c("error")}))}}function c(o){const c=e.value,s=new Date,i=String(s.getDate()).padStart(2,"0"),a=String(s.getMonth()+1).padStart(2,"0"),l=s.getFullYear()+"-"+a+"-"+i;switch(o){case"create":if(c<l){removeInfoBlock("cv-date"),t.classList.add("cgs-hidden");const e=createInfoBlock("cv-date","La date de la convocation est ant√©rieure √† la date du jour. Ajoutez donc simplement l'ancienne convocation en pi√®ce jointe üîó (format PDF ou DOCX).<br> Si vous souhaitez remplir vous-m√™me la convocation, choisissez une date adapt√©e.");e&&n.appendChild(e)}else removeInfoBlock("cv-date"),t.classList.remove("cgs-hidden");break;case"new":if(c<l){removeInfoBlock("cv-date"),t.classList.remove("cgs-hidden");const e=createInfoBlock("cv-date","Attention, lors de sa cr√©ation, cette convocation a √©t√© enregistr√©e comme 'Nouvelle' m√™me si vous en modifiez la date il faudra toujours la remplir vous m√™me. <br> Si vous souhaitez une 'ancienne' convocation il faut en cr√©er une autre.");e&&n.appendChild(e)}else removeInfoBlock("cv-date"),t.classList.remove("cgs-hidden");break;case"old":if(c<l)removeInfoBlock("cv-date"),t.classList.add("cgs-hidden");else{removeInfoBlock("cv-date"),t.classList.add("cgs-hidden");const e=createInfoBlock("cv-date","Lors de sa cr√©ation, cette convocation a √©t√© enregistr√©e comme 'Ancienne'. Ajoutez donc simplement l'ordre du jour de la convocation 'originelle' en pi√®ce jointe üîó (format PDF ou DOCX).<br> Si vous souhaitez remplir vous m√™me la convocation il faut en cr√©er une nouvelle avec la bonne date (post√®rieure √† la date en cours), le cas √©ch√©ant pensez √† supprimer celle-ci.");e&&n.appendChild(e)}break;case"error":removeInfoBlock("cv-date"),t.classList.remove("cgs-hidden")}}}e&&o(e),e.addEventListener("change",(function(){o(this)}))}function compteRenduUsers(){const e=document.querySelector("#id_convocation"),t=document.querySelector("#id_secretary"),n=document.querySelector('[data-id="secretary"]'),o=document.querySelector('[data-id="absences"]'),c=document.querySelector("#id_replaced_users"),s=o.querySelector('div[data-id="replaced"]'),i=document.querySelector("#id_unreplaced_users"),a=o.querySelector('div[data-id="unreplaced"]'),l=o.querySelector('div[data-id="technicians"]'),d=document.querySelector('[data-id="quorum"]'),r=document.querySelector('[data-id="body"]'),u=document.querySelector('[data-id="attachments"]');t.innerHTML="",c.innerHTML="",i.innerHTML="";const m=e.value;function p(e,t){e.querySelector("h3").textContent=t}function h(e,t,n,o,c,s){let i,a=[],l=[];t.forEach(((t,d)=>{const r=document.createElement("div"),u=document.createElement("label");u.setAttribute("for",e.id+"_"+d);const m=document.createElement("input");if(m.setAttribute("type","checkbox"),m.setAttribute("name",c),m.setAttribute("value",t.id),m.setAttribute("sub-value",t.user),m.setAttribute("id",e.id+"_"+d),i=!1,t.presence===n&&(m.checked=!0,l.push(m),o&&(u.classList.add("cgs-checked"),i=!0)),u.appendChild(m),s?"municipality"==s?u.appendChild(document.createTextNode(" "+t.identity+" ("+t.municipality+")")):"function"==s&&"Membre"!=t.function?u.appendChild(document.createTextNode(" "+t.identity+" ("+t.function+")")):u.appendChild(document.createTextNode(" "+t.identity)):u.appendChild(document.createTextNode(" "+t.identity)),r.appendChild(u),o){let e=!1,n=!1,s=[t.id,t.user,!1];const l=document.createElement("option");l.value=s;const u=document.createElement("select");u.setAttribute("name","substitute_users"),u.setAttribute("id","id_substitute_users_"+d),u.appendChild(l),o.forEach((o=>{s[2]=o.id;const c=document.createElement("option");c.value=s,c.textContent=o.name,c.setAttribute("sub-value",o.id),t.substitute===o.id&&(e&&(u.querySelector("option:selected").removeAttribute("selected"),a=a.filter((e=>e!==u.querySelector("option:selected")))),c.setAttribute("selected","selected"),a.push(c),n=!0),n||t.alternate!==o.id||(c.setAttribute("selected","selected"),a.push(c),e=!0),u.appendChild(c)}));const m=document.createElement("label");m.setAttribute("for","id_"+c+"_substitutes_"+d),m.appendChild(u),r.appendChild(m),e||n?i||(l.selected=!0):l.setAttribute("selected","selected")}e.appendChild(r)}));for(const e of l)f(null,e);for(const e of a)g(null,e.parentElement)}function v(e){const t=e.target,n=t.name,o=t.value;let c="replaced_users"===n?`input[name="unreplaced_users"][value="${o}"]`:`input[name="replaced_users"][value="${o}"]`,s=document.querySelector(c);return!(!s||!s.checked)&&(function(e){const t=e.parentElement;t.style.animation="shake 0.82s cubic-bezier(.36,.07,.19,.97) both",e.style.animation="colorized 0.82s ease-in-out both",t.addEventListener("animationend",(()=>{t.style.animation=""})),e.addEventListener("animationend",(()=>{e.style.animation=""}))}(t.parentElement),t.checked=!1,!0)}function g(e,t){let n=e?e.target:t;const o=n.options;let c;for(const e of o)e.classList.contains("cgs-selected")&&(c=e.getAttribute("sub-value")),e.classList.remove("cgs-selected");const s=o[n.selectedIndex];s.classList.add("cgs-selected");const i=s.value;!function(e=!1,t=!1,n=!1){let o,c;n?(e&&(o=document.querySelectorAll(`option[sub-value="${e}"]:not([value="${n}"])`)),t&&(c=document.querySelectorAll(`option[sub-value="${t}"]:not([value="${n}"])`))):(e&&(o=document.querySelectorAll(`option[sub-value="${e}"]`)),t&&(c=document.querySelectorAll(`option[sub-value="${t}"]`))),e&&o.forEach((e=>{e.disabled=!1})),t&&c.forEach((e=>{e.disabled=!0}))}(c,s.getAttribute("sub-value"),i)}function f(e,t){let n=e?e.target:t;if("replaced_users"===n.name){const e=n.id;g(null,document.getElementById(e.replace("replaced_users","substitute_users")))}const o=n.getAttribute("sub-value"),c=document.querySelectorAll(`option[sub-value="${o}"], #id_secretary option[value="${o}"]`);for(const e of c)e.disabled=n.checked}function b(e){switch(e){case 1:document.querySelectorAll('input[name="replaced_users"]').forEach((e=>{e.addEventListener("change",(e=>{v(e)||(!function(e){const t=e.target,n=t.parentElement;let o=null,c=null;n.nextElementSibling&&(o=n.nextElementSibling.querySelector("option"),c=n.nextElementSibling.querySelector("option[selected='selected']")),t.checked?(n.classList.add("cgs-checked"),c&&(c.selected=!0)):(n.classList.remove("cgs-checked"),o&&(o.selected=!0))}(e),f(e))}))}));break;case 2:document.querySelectorAll('input[name="unreplaced_users"]').forEach((e=>{e.addEventListener("change",(e=>{v(e)||f(e)}))}));break;case 3:document.querySelectorAll('select[name="substitute_users"]').forEach((e=>{e.addEventListener("change",g)}))}}function y(e){if(e){n.classList.add("cgs-hidden"),o.classList.add("cgs-hidden"),d.classList.add("cgs-hidden"),r.classList.add("cgs-hidden");const e=createInfoBlock("cr-old","Cette page est li√©e √† une ancienne convocation. Ajoutez donc simplement le compte-rendu en pi√®ce jointe üîó (format PDF ou DOCX).");e&&u.appendChild(e)}else n.classList.remove("cgs-hidden"),o.classList.remove("cgs-hidden"),d.classList.remove("cgs-hidden"),r.classList.remove("cgs-hidden"),removeInfoBlock("cr-old")}function _(e){fetch("/api/v2/pages/"+e+"/").then((e=>e.json())).then((e=>{if(!!e.old&&e.old)throw new Error("Ancienne convocation d√©tect√©e");y(!1);const o=!!e.convocation_users&&e.convocation_users,r=!!e.meta.parent&&e.meta.parent.meta.type,u=!!e.compte_rendu_page&&e.compte_rendu_page.secretary;if(e&&r)switch(r){case"administration.ConseilsIndexPage":console.log("Compte-rendu de conseil d√©tect√© (on affiche tout)"),m=function(n,s){n?console.error("Erreur lors de la r√©cup√©ration de la liste des utilisateurs :",n):e&&(function(e,n){const o=document.createElement("option");o.textContent="---------",o.value="",t.appendChild(o),e.forEach((e=>{const o=document.createElement("option");o.value=e.id,o.textContent=e.name,n===e.id&&o.setAttribute("selected","selected"),t.appendChild(o)}))}(s,u),o&&(h(c,o,2,s,"replaced_users",!1),h(i,o,3,!1,"unreplaced_users",!1),b(1),b(2),b(3)))},fetch("/api/v2/users/?limit=10000").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{if(e&&e.items){const t=e.items.filter((e=>e.elected));m(null,t)}else m("Items not found in response",null)})).catch((e=>{m(e.message,null)})),l.classList.add("cgs-hidden");break;case"administration.BureauxIndexPage":console.log("Compte-rendu de bureau d√©tect√© (on affiche les absents et les techniciens)"),e&&o&&(h(i,o,3,!1,"unreplaced_users",!1),p(a,"Absents lors du bureau :")),n.classList.add("cgs-hidden"),d.classList.add("cgs-hidden"),s.classList.add("cgs-hidden");break;case"administration.CommissionPage":console.log("Compte-rendu de commission d√©tect√© (on affiche les absents et les techniciens)"),e&&o&&(h(i,o,3,!1,"unreplaced_users","function"),p(a,"üö® Pr√©sents üö® √† la commission :")),n.classList.add("cgs-hidden"),d.classList.add("cgs-hidden"),s.classList.add("cgs-hidden");break;case"administration.ConferencesIndexPage":console.log("Compte-rendu de conf√©rence d√©tect√© (on affiche les absents et les techniciens)"),e&&o&&(h(i,o,3,!1,"unreplaced_users","municipality"),p(a,"Absents √† la conf√©rence :")),n.classList.add("cgs-hidden"),d.classList.add("cgs-hidden"),s.classList.add("cgs-hidden")}var m})).catch((e=>{"Ancienne convocation d√©tect√©e"===e.message?(console.log(e.message),y(!0)):console.error("Erreur lors de la r√©cup√©ration des utilisateurs de la convocation :",e)}))}m&&_(m),e.addEventListener("change",(function(){c.innerHTML="",i.innerHTML="";const e=this.value;e&&_(e)}))}function compteRenduImportBloc(){const e=document.querySelector("#panel-child-contenu-body-content [data-streamfield-stream-container]");var t;e?((t=e).querySelectorAll("[data-contentpath]").forEach((e=>{e.querySelector('input[type="hidden"][value="PDF"], input[type="hidden"][value="DOCX"]')&&(e.dataset.observed=!0,n(e))})),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&e.matches("[data-contentpath]")&&e.querySelector('input[type="hidden"][value="PDF"], input[type="hidden"][value="DOCX"]')&&(e.dataset.observed||(e.dataset.observed=!0,n(e)))}))}))})).observe(t,{childList:!0,subtree:!0})):console.warn("StreamBlock not found");function n(e){const t=e.querySelector('[data-contentpath="pdf_import"]')||e.querySelector('[data-contentpath="docx_import"]'),n=t.parentElement,o=t.dataset.contentpath.split("_")[0];!function(e,t){e.classList.add("cgs-colbox"),e.querySelector(`[data-contentpath="${t}_document"]`).classList.add("cgs-column8"),e.querySelector(`[data-contentpath="${t}_import"]`).classList.add("cgs-column4");const n=e.querySelector('[data-contentpath="pdf_images"]')||e.querySelector('[data-contentpath="docx_content"]');n.classList.add("cgs-column12","cgs-collapsible","cgs-collapsed");const o=n.querySelector("label");o.addEventListener("click",(()=>collapsible(o)))}(n,o),function(e,t){const n=e.querySelector(`[id^="body-"][id$="-value-${t}_import"]`),o=document.querySelector('form#page-edit-form footer nav button[type="submit"].action-save').cloneNode(!0);if(o){o.removeChild(o.querySelector("svg.button-longrunning__icon")),o.classList.add("cgs-import"),o.dataset.wProgressLabelValue="Importer le "+t,o.dataset.wProgressActiveValue="Importation‚Ä¶";const e=n.cloneNode(!0);n.replaceWith(o),o.addEventListener("click",(function(t){t.preventDefault();const n=o.closest("form");n?(e.value="on",e.type="hidden",n.appendChild(e),n.submit()):console.log("Formulaire non trouv√©")}))}}(n,o)}}document.addEventListener("DOMContentLoaded",(function(){whereAmI()}));